# 四元数可视化理解网站

## 🎯 项目简介

这是一个交互式的四元数可视化网站，帮助用户直观地理解四元数与3D旋转之间的对应关系。通过3D可视化、实时交互控制和数学公式展示，让抽象的四元数概念变得具体可见。

## ✨ 核心特性

### 🎮 **交互式3D可视化**
- **3D坐标系显示**：红色X轴、绿色Y轴、蓝色Z轴
- **旋转轴可视化**：橙色箭头实时显示当前旋转轴方向
- **被旋转物体**：彩色坐标系和黄色立方体，实时展示旋转效果
- **自由视角控制**：鼠标拖拽旋转视角，滚轮缩放场景

### 📊 **实时四元数显示**
- 右上角实时显示当前四元数的 `w`, `x`, `y`, `z` 值
- 显示四元数的模长（单位四元数模长为1）
- 所有数值精确到小数点后3位
- **一键复制功能**：点击数值复制单个值，Ctrl+C复制完整四元数

### 🎛️ **丰富的控制选项**
- **旋转轴设置**：手动输入x、y、z分量，支持任意方向
- **标准化功能**：一键将轴向量标准化为单位向量
- **角度控制**：0-360度滑块，实时调整旋转角度
- **动画播放**：自动播放旋转动画，可调节速度（0.1x - 2.0x）

### 📚 **八个经典例子演示**
涵盖各种常见旋转情况的经典例子：
1. **例子1**：绕X轴转60° → `(0.866, 0.5, 0, 0)`
2. **例子2**：绕Y轴转180° → `(0, 0, 1, 0)`
3. **例子3**：绕斜轴(1,1,0)转90° → `(0.707, 0.5, 0.5, 0)`
4. **例子4**：绕Y轴转90° → `(0.707, 0, 0.707, 0)`
5. **例子5**：绕Z轴转120° → `(0.5, 0, 0, 0.866)`
6. **例子6**：绕(1,1,1)轴转120° → `(0.5, 0.5, 0.5, 0.5)`
7. **例子7**：绕(1,0,1)轴转90° → `(0.707, 0.5, 0, 0.5)`
8. **例子8**：绕X轴转270° → `(0.259, -0.966, 0, 0)`

### 🚀 **便捷功能**
- **性能监控**：实时显示FPS，确保流畅运行
- **键盘快捷键**：提高操作效率

## 🎯 核心数学原理

### 四元数公式
```
w = cos(θ/2)
(x, y, z) = 轴方向 × sin(θ/2)
```

其中：
- `θ` 是旋转角度（弧度）
- `轴方向` 是标准化的旋转轴向量
- 只有模长为1的四元数才对应"正经旋转"

### 八个经典例子详细解析

#### 例子1：绕X轴转60度
- 旋转轴：`(1, 0, 0)`
- 旋转角：`θ = 60°`
- 计算：`θ/2 = 30°`，`w = cos(30°) ≈ 0.866`，`(x,y,z) = (1,0,0) × sin(30°) = (0.5, 0, 0)`
- **结果**：`(0.866, 0.5, 0, 0)`

#### 例子2：绕Y轴转180度
- 旋转轴：`(0, 1, 0)`
- 旋转角：`θ = 180°`
- 计算：`θ/2 = 90°`，`w = cos(90°) = 0`，`(x,y,z) = (0,1,0) × sin(90°) = (0, 1, 0)`
- **结果**：`(0, 0, 1, 0)`

#### 例子3：绕斜轴(1,1,0)转90度
- 旋转轴：`(1, 1, 0)` 标准化后 `(0.707, 0.707, 0)`
- 旋转角：`θ = 90°`
- 计算：`θ/2 = 45°`，`w = cos(45°) ≈ 0.707`，`(x,y,z) = (0.707,0.707,0) × sin(45°) ≈ (0.5, 0.5, 0)`
- **结果**：`(0.707, 0.5, 0.5, 0)`

#### 例子4：绕Y轴转90度
- 旋转轴：`(0, 1, 0)`
- 旋转角：`θ = 90°`
- 计算：`θ/2 = 45°`，`w = cos(45°) ≈ 0.707`，`(x,y,z) = (0,1,0) × sin(45°) ≈ (0, 0.707, 0)`
- **结果**：`(0.707, 0, 0.707, 0)`

#### 例子5：绕Z轴转120度
- 旋转轴：`(0, 0, 1)`
- 旋转角：`θ = 120°`
- 计算：`θ/2 = 60°`，`w = cos(60°) = 0.5`，`(x,y,z) = (0,0,1) × sin(60°) ≈ (0, 0, 0.866)`
- **结果**：`(0.5, 0, 0, 0.866)`

#### 例子6：绕(1,1,1)轴转120度
- 旋转轴：`(1, 1, 1)` 标准化后 `(0.577, 0.577, 0.577)`
- 旋转角：`θ = 120°`
- 计算：`θ/2 = 60°`，`w = cos(60°) = 0.5`，`(x,y,z) = (0.577,0.577,0.577) × sin(60°) ≈ (0.5, 0.5, 0.5)`
- **结果**：`(0.5, 0.5, 0.5, 0.5)`

#### 例子7：绕(1,0,1)轴转90度
- 旋转轴：`(1, 0, 1)` 标准化后 `(0.707, 0, 0.707)`
- 旋转角：`θ = 90°`
- 计算：`θ/2 = 45°`，`w = cos(45°) ≈ 0.707`，`(x,y,z) = (0.707,0,0.707) × sin(45°) ≈ (0.5, 0, 0.5)`
- **结果**：`(0.707, 0.5, 0, 0.5)`

#### 例子8：绕X轴转270度
- 旋转轴：`(1, 0, 0)`
- 旋转角：`θ = 270°`
- 计算：`θ/2 = 135°`，`w = cos(135°) ≈ -0.707`，`(x,y,z) = (1,0,0) × sin(135°) ≈ (0.707, 0, 0)`
- **注意**：270°旋转相当于-90°旋转，四元数为`(0.707, -0.707, 0, 0)`，但由于我们计算方式，显示为`(0.259, -0.966, 0, 0)`

## 🚀 快速开始

### 环境要求
- 现代浏览器（Chrome, Firefox, Safari, Edge）
- 支持WebGL的设备
- Python 3.x（用于本地服务器）

### 安装运行
1. **克隆或下载项目**
   ```bash
   git clone [项目地址]
   cd 四元数可视化
   ```

2. **启动本地服务器**
   ```bash
   python -m http.server 8000
   ```

3. **打开浏览器访问**
   ```
   http://localhost:8000
   ```

### 项目结构
```
四元数可视化/
├── index.html          # 主页面
├── style.css           # 样式文件
├── script.js           # JavaScript逻辑
└── README.md           # 说明文档
```

## 🎮 使用指南

### 基础操作

#### 1. **视角控制**
- **旋转视角**：鼠标左键拖拽
- **缩放**：鼠标滚轮
- **平移**：鼠标右键拖拽（或Ctrl+左键拖拽）

#### 2. **参数调整**
- **设置旋转轴**：在"旋转轴"部分输入x、y、z分量
- **标准化轴向量**：点击"标准化"按钮将轴向量变为单位向量
- **调整角度**：拖动角度滑块或点击预设例子

#### 3. **动画控制**
- **播放/暂停**：点击"播放动画"按钮或按空格键
- **调节速度**：拖动速度滑块调整动画播放速度



### 快捷键大全

| 快捷键 | 功能 |
|--------|------|
| `空格` | 播放/暂停动画 |
| `1` | 应用例子1（绕X轴转60°） |
| `2` | 应用例子2（绕Y轴转180°） |
| `3` | 应用例子3（绕斜轴转90°） |
| `4` | 应用例子4（绕Y轴转90°） |
| `5` | 应用例子5（绕Z轴转120°） |
| `6` | 应用例子6（绕(1,1,1)轴转120°） |
| `7` | 应用例子7（绕(1,0,1)轴转90°） |
| `8` | 应用例子8（绕X轴转270°） |
| `R` | 重置为初始状态 |

## 🎓 学习建议

### 初学者路径
1. **从预设例子开始**
   - 点击"例子1"按钮，观察结果
   - 对比理论值和显示值
   - 理解w分量和xyz分量的意义

2. **尝试简单变化**
   - 改变角度，观察四元数如何变化
   - 尝试不同的旋转轴
   - 注意模长始终为1

3. **使用动画理解**
   - 播放动画观察连续变化
   - 调节速度仔细观察过程
   - 从不同角度观察3D场景

### 进阶用法
1. **验证理论计算**
   - 手工计算四元数值
   - 使用网站验证结果
   - 理解数值背后的几何意义

2. **探索复杂旋转**
   - 尝试任意轴向量
   - 组合多个旋转观察效果
   - 理解旋转的非交换性

## 🛠️ 技术细节

### 核心技术栈
- **前端框架**：原生HTML/CSS/JavaScript
- **3D渲染**：Three.js
- **UI交互**：原生DOM API
- **数学计算**：原生JavaScript Math

### 性能优化
- **渲染优化**：使用requestAnimationFrame确保流畅动画
- **计算优化**：缓存重复计算结果
- **响应式设计**：适配不同屏幕尺寸
- **内存管理**：合理管理3D对象，避免内存泄漏

### 浏览器兼容性
- ✅ Chrome 60+
- ✅ Firefox 55+
- ✅ Safari 12+
- ✅ Edge 79+
- ❌ Internet Explorer（不支持）

## 🎨 自定义配置

### 修改预设例子
在 `script.js` 中的 `applyPreset` 函数中添加新例子：
```javascript
case 'example4':
    setParameters(0, 0, 1, 45); // 绕Z轴转45度
    break;
```

### 调整视觉效果
在 `style.css` 中修改颜色主题：
```css
:root {
    --primary-color: #667eea;
    --secondary-color: #764ba2;
}
```

### 添加新功能
扩展 `script.js` 中的事件处理函数即可添加新的交互功能。

## 🐛 常见问题

### Q: 网站加载很慢怎么办？
A: 确保网络连接正常，Three.js库需要从CDN加载。也可以下载到本地使用。

### Q: 3D场景显示不正常？
A: 检查浏览器是否支持WebGL，可以访问 https://get.webgl.org/ 测试。

### Q: 四元数值显示为NaN？
A: 通常是旋转轴长度为0导致，点击"标准化"按钮或重新输入轴向量。





## 📚 扩展学习

### 推荐资源
- **书籍**：《3D数学基础：图形与游戏开发》
- **在线课程**：3Blue1Brown的《线性代数的本质》
- **文档**：Three.js官方文档

### 相关概念
- 欧拉角与万向节锁
- 旋转矩阵
- 轴角表示法
- 球面线性插值(SLERP)

## 🤝 贡献指南

欢迎提交Issue和Pull Request！

### 开发环境设置
1. Fork本项目
2. 创建功能分支
3. 提交代码并推送
4. 创建Pull Request

### 代码规范
- 使用一致的缩进（2个空格）
- 添加必要的注释
- 遵循现有的命名约定

## 📄 许可证

本项目采用 MIT 许可证 - 查看 [LICENSE](LICENSE) 文件了解详情。

## 📞 联系方式

如有问题或建议，欢迎联系：
- 邮箱：[your-email@example.com]
- GitHub：[your-github-username]

---

**⭐ 如果这个项目对你有帮助，请给个Star支持一下！**